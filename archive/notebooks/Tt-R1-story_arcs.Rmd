---
title: "Story Arcs"
output: html_notebook
---

Replicating work done by David Robinson in two blog posts: ["Examining the arc of 100,000 stories: a tidy analysis"](http://varianceexplained.org/r/tidytext-plots/) and ["Gender and verbs across 100,000 stories: a tidy analysis"](http://varianceexplained.org/r/tidytext-gender-plots/).

Robinson begins by downloading two files: one with the titles of the texts and one with the plots, each plot summary consisting of multiple lines separated by an `<EOS>`. We are working from a CSV, which I had to modify: at some point line numbers got added as an initial column and `pandas` doesn't want column headers. R does. 

```{r}
library(readr)
library(dplyr)

talks_3a = read_csv("~/Code/tedtalks/data/talks_3a.csv")
```

I've read the data in. Let's filter just the text of the talks:

```{r}
talks = subset(talks_3a, select=("Text"))
plot_text <- data_frame(text = talks) %>%
  mutate(story_number = cumsum(text == "<EOS>") + 1,
         title = titles[story_number]) %>%
  filter(text != "<EOS>")
```

```{r}
library(tidytext)
```

