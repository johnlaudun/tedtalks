#| label: load-packages
#| include: false
library(tidyverse)
library(mosaic)
install.packages(mosaic)
install.packages("mosaic")
#| label: load-packages
#| include: false
library(tidyverse)
library(mosaic)
library(palmerpenguins)
mplot(penguins)
install.packages("manipulate")
library(mosaic)
mplot(penguins)
mplot(penguins)
mplot(penguins)
mplot(penguins)
git status
mplot(penguins)
#| label: load-packages
#| include: false
#| warning: false
#| message: false
library(tidyverse)
library(mosaic)
library(palmerpenguins)
mplot(penguins)
mplot(penguins)
#| label: example
# I need to fix this...
library(tidyverse)
library(mosaic)
library(palmerpenguins)
ggplot(data = penguins, aes(x = bill_length_mm, y = flipper_length_mm)) + geom_point()  + aes(colour = species) + aes(size = body_mass_g) + facet_wrap(~island, ncol = 4) + theme(legend.position = "right") + labs(title = "")
library(tidyverse)
library(readxl)
pr_xl <- read_xls("https://github.com/fivethirtyeight/data/blob/master/pollster-ratings/pollster-stats-full.xlsx")
pr_xl <- read_excel("https://github.com/fivethirtyeight/data/blob/master/pollster-ratings/pollster-stats-full.xlsx")
pr_xl <- read_xlsx("https://github.com/fivethirtyeight/data/blob/master/pollster-ratings/pollster-stats-full.xlsx")
#| label: code-url
file_location <- `https://raw.githubusercontent.com/fivethirtyeight/data/master/pollster-ratings/pollster-ratings.csv`
data <- read_csv(file_location)
?read_csv
#| label: code-url
file_location <- "https://raw.githubusercontent.com/fivethirtyeight/data/master/pollster-ratings/pollster-ratings.csv"
data <- read_csv(file_location)
library(tidyverse)
file_location
#| label: code-url
file_location <- "https://raw.githubusercontent.com/fivethirtyeight/data/master/pollster-ratings/pollster-ratings.csv"
#| label: load-data
#| eval: false
lab6_data <- read_csv(file_location)
glimpse(lab6_data)
head(lab6_data)
#| label: glimpse-538-pollster
bechdel <- read_csv("https://raw.githubusercontent.com/fivethirtyeight/data/master/next-bechdel/nextBechdel_allTests.csv")
mplot(bechdel)
library(mosaic)
mplot(bechdel)
av <- read_csv("https://raw.githubusercontent.com/fivethirtyeight/data/master/avengers/avengers.csv")
mplot(av)
mplot(av)
bd <- read_csv("https://github.com/fivethirtyeight/data/tree/master/bad-drivers")
mplot(bd)
bd <- read_csv("https://raw.githubusercontent.com/fivethirtyeight/data/master/bad-drivers/bad-drivers.csv")
mplot(bd)
candy <- read_csv("https://raw.githubusercontent.com/fivethirtyeight/data/master/candy-power-ranking/candy-data.csv")
mplot(candy)
?read_csv
candy <- read_csv("https://raw.githubusercontent.com/fivethirtyeight/data/master/candy-power-ranking/candy-data.csv", name_repair = "universal")
bd <- read_csv("https://raw.githubusercontent.com/fivethirtyeight/data/master/bad-drivers/bad-drivers.csv", name_repair = "universal")
mplot(bd)
library(tidyverse)
library(mosaic)
library(palmerpenguins)
ggplot(data = penguins, aes(x = bill_length_mm, y = flipper_length_mm)) + geom_point()  + aes(colour = species) + aes(size = body_mass_g) + facet_wrap(~island, ncol = 4) + theme(legend.position = "right") + labs(title = "")
library(manipulate)
mplot(penguins)
ggplot( data = penguins, aes(x = flipper_length_mm)) + geom_histogram(binwidth = 2.4) + aes(colour = species) + labs(title = "Histogram with species annotated") + theme(legend.position = "right")
mplot(penguins)
mplot(penguins)
library(manipulate)
mplot(penguins)
library(tidyverse)
library(mosaic)
library(palmerpenguins)
mplot(penguins)
library(tidyverse)
library(mosaic)
library(palmerpenguins)
library(manipulate)
mplot(penguins)
library(tidyverse)
library(palmerpenguins)
ggplot(data = penguins)
ggplot(data = penguins) %>%
geom_point(mapping = aes(x = bill_length_mm, y = flipper_length_mm))
ggplot(data = penguins) +
geom_point(mapping = aes(x = bill_length_mm, y = flipper_length_mm))
ggplot(data = penguins)
ggplot(data = penguins) +
geom_point(mapping = aes(x = bill_length_mm, y = flipper_length_mm, color = species))
geom_point(mapping = aes(x = bill_length_mm, y = flipper_length_mm), color = pink)
geom_point(mapping = aes(x = bill_length_mm, y = flipper_length_mm), color = blue)
geom_point(mapping = aes(x = bill_length_mm, y = flipper_length_mm), color = "pink")
geom_point(mapping = aes(x = bill_length_mm, y = flipper_length_mm), color = "blue")
ggplot(data = penguins) +
geom_point(mapping = aes(x = bill_length_mm, y = flipper_length_mm), color = "pink")
ggplot(data = penguins) +
geom_point(mapping = aes(x = bill_length_mm, y = flipper_length_mm, shape = species))
ggplot(data = penguins) +
geom_bar(mapping = aes(x = species))
geom_bar(mapping = aes(x = species, fill = island))
ggplot(data = penguins) +
geom_bar(mapping = aes(x = species, fill = island))
ggplot(data = penguins) +
geom_bar(mapping = aes(x = species, fill = island)) +
coord_flip()
ggplot(data = penguins) +
geom_bar(mapping = aes(x = species, fill = island)) +
coord_polar()
ggplot(data = penguins) +
geom_bar(mapping = aes(x = species, fill = island)) +
coord_flip() +
facet_wrap(~sex)
library(googlesheets4)
# URL
read_sheet("https://docs.google.com/spreadsheets/d/1U6Cf_qEOhiR9AZqTqS3mbMF3zt2db48ZP5v3rkrAEJY/edit#gid=780868077")
?factor
?geom_segment
library(ggplot2)
library(ggplot2)
?geom_segment
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=m_df, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_segment(data=m_df, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "f")
df <- read.csv("../output/tfidf_by_speaker_trimmed.csv")
# Extract the male speakers
man_df <- df[df$speaker_gender == "man",]
# Start building the difference data frame. This will be used to order
# the data frame
# First merge he and she subjects
man_diff <- merge(man_df[man_df$subject == "he",],
man_df[man_df$subject == "she",],
by='verb')
# Add the i's
man_diff <- merge(man_diff,
man_df[man_df$subject == "i",],
by='verb')
# He's are .x, She's are .y, and I's have no dot
man_diff['hs_diff'] <- man_diff$tfidf.x - man_diff$tfidf.y
# From the extracted male speakers, turn the verb into factors, ordered by the difference
man_df$verb <-factor(man_df$verb,
levels = man_diff$verb[order(man_diff$hs_diff)])
# Remove NANs
man_df <- man_df[!is.na(man_df$verb),]
# Extract the male speakers
man_df <- df[df$speaker_gender == "man",]
df <- read.csv("../output/tfidf_by_speaker_trimmed.csv")
pwd <-getwd()
pwd
setwd("./Documents/z-PreviousInstitutions/3-IPAM/JL_Project/tedtalks/gender/")
df <- read.csv("../output/tfidf_by_speaker_trimmed.csv")
# Extract the male speakers
man_df <- df[df$speaker_gender == "man",]
# Start building the difference data frame. This will be used to order
# the data frame
# First merge he and she subjects
man_diff <- merge(man_df[man_df$subject == "he",],
man_df[man_df$subject == "she",],
by='verb')
# Add the i's
man_diff <- merge(man_diff,
man_df[man_df$subject == "i",],
by='verb')
# He's are .x, She's are .y, and I's have no dot
man_diff['hs_diff'] <- man_diff$tfidf.x - man_diff$tfidf.y
# From the extracted male speakers, turn the verb into factors, ordered by the difference
man_df$verb <-factor(man_df$verb,
levels = man_diff$verb[order(man_diff$hs_diff)])
# Remove NANs
man_df <- man_df[!is.na(man_df$verb),]
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=m_df, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_segment(data=m_df, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "f")
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=man_df, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_segment(data=man_df, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "f")
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=man_df, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_segment(data=man_df, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "f") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
#geom_segment(data=man_df, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_segment(data=man_df, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "f") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
#geom_segment(data=man_df, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_segment(data=man_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "f") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
#geom_segment(data=man_df, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_segment(data=man_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = dotdash) +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
#geom_segment(data=man_df, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_segment(data=man_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=man_df, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_segment(data=man_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=man_diff, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_segment(data=man_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=man_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
geom_segment(data=man_diff, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
# From the extracted male speakers, turn the verb into factors, ordered by the difference
man_df$verb <-factor(man_df$verb,
levels = man_diff$verb[order(man_diff$tfidf)])
man_df$verb <-factor(man_df$verb,
levels = man_diff$verb[order(man_diff$hs_diff)])
# Remove NANs
man_df <- man_df[!is.na(man_df$verb),]
ggplot(man_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=man_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
geom_segment(data=man_diff, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggsave("../output/he_speakers_trimmed.pdf", width=6, height = 45, units="in")
d
woman_df <- df[df$speaker_gender == "woman",]
woman_diff <- merge(woman_df[woman_df$subject == "he",],
woman_df[woman_df$subject == "she",],
by='verb')
woman_diff <- merge(woman_diff,
woman_df[woman_df$subject == "i",],
by='verb')
woman_diff['hs_diff'] <- woman_diff$tfidf.x - woman_diff$tfidf.y
# From the extracted female speakers, turn the verb into factors, ordered by the difference
woman_df$verb <-factor(woman_df$verb,
levels = woman_diff$verb[order(man_diff$tfidf)])
woman_df$verb <-factor(woman_df$verb,
levels = woman_diff$verb[order(man_diff$hs_diff)])
# Remove NANs
woman_df <- woman_df[!is.na(woman_df$verb),]
ggplot(woman_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
# From the extracted female speakers, turn the verb into factors, ordered by the difference
woman_df$verb <-factor(woman_df$verb,
levels = woman_diff$verb[order(woman_diff$tfidf)])
woman_df$verb <-factor(woman_df$verb,
levels = woman_diff$verb[order(woman_diff$hs_diff)])
# Remove NANs
woman_df <- woman_df[!is.na(woman_df$verb),]
ggplot(woman_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(woman_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
#geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
#geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(woman_df, aes(x=tfidf, y=verb, color=subject.x)) +
geom_point() +
scale_x_log10() +
#geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
#geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(woman_diff, aes(x=tfidf, y=verb, color=subject.x)) +
geom_point() +
scale_x_log10() +
#geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
#geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggplot(woman_df, aes(x=tfidf, y=verb, color=subject)) +
geom_point() +
scale_x_log10() +
geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf, y=verb, yend=verb), color="grey", linetype = "dotdash") +
geom_segment(data=woman_diff, aes(x=tfidf.x, xend=tfidf.y, y=verb, yend=verb), color="black") +
geom_point() + scale_color_manual(values=c("#4775ba", "#aaaaaa","#ba4767"))
ggsave("../output/she_speakers_trimmed.pdf", width=6, height = 45, units="in")
